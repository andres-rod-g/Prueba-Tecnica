{"ast":null,"code":"import FormProduct from './FormProduct.vue';\nimport { uuid } from 'vue-uuid';\nexport default {\n  name: 'FormProducts',\n  components: {\n    FormProduct\n  },\n  props: ['products', 'products_fetched', 'selected_currency_info', 'currency_fetched'],\n\n  data() {\n    return {\n      total: 0\n    };\n  },\n\n  methods: {\n    addProduct(e) {\n      e.preventDefault();\n      const newProduct = {\n        entry_uuid: uuid.v4(),\n        sub_total: 0\n      };\n      this.$emit('addProduct', newProduct);\n    },\n\n    changedSubTotal(e) {\n      this.$emit('changedSubTotal', e);\n    }\n\n  },\n  watch: {\n    products: {\n      handler() {\n        let newTotal = this.products.reduce((partialSum, a) => partialSum + a.sub_total, 0);\n        console.log(newTotal);\n        console.log(newTotal);\n        console.log(newTotal);\n        this.total = Number(newTotal).toFixed(2);\n      },\n\n      deep: true\n    }\n  }\n};","map":{"version":3,"mappings":"AA+CA,OAAOA,WAAP,MAAwB,mBAAxB;AACA,SAAQC,IAAR,QAAmB,UAAnB;AAEA,eAAe;AACXC,MAAI,EAAC,cADM;AAEXC,YAAU,EAAE;AACRH;AADQ,GAFD;AAKXI,OAAK,EAAE,CACH,UADG,EAEH,kBAFG,EAGH,wBAHG,EAIH,kBAJG,CALI;;AAWXC,MAAG,GAAK;AACJ,WAAO;AACHC,WAAK,EAAE;AADJ,KAAP;AAGH,GAfU;;AAgBXC,SAAO,EAAE;AACLC,cAAU,CAACC,CAAD,EAAI;AACVA,OAAC,CAACC,cAAF;AAEA,YAAMC,UAAS,GAAI;AACfC,kBAAU,EAAEX,IAAI,CAACY,EAAL,EADG;AAEfC,iBAAS,EAAE;AAFI,OAAnB;AAKA,WAAKC,KAAL,CAAW,YAAX,EAAyBJ,UAAzB;AACH,KAVI;;AAWLK,mBAAe,CAACP,CAAD,EAAI;AACf,WAAKM,KAAL,CAAW,iBAAX,EAA8BN,CAA9B;AACJ;;AAbK,GAhBE;AA+BXQ,OAAK,EAAE;AACHC,YAAQ,EAAE;AACNC,aAAM,GAAK;AACP,YAAIC,QAAO,GAAI,KAAKF,QAAL,CAAcG,MAAd,CAAqB,CAACC,UAAD,EAAaC,CAAb,KAAmBD,UAAS,GAAIC,CAAC,CAACT,SAAvD,EAAkE,CAAlE,CAAf;AACAU,eAAO,CAACC,GAAR,CAAYL,QAAZ;AACAI,eAAO,CAACC,GAAR,CAAYL,QAAZ;AACAI,eAAO,CAACC,GAAR,CAAYL,QAAZ;AACA,aAAKd,KAAL,GAAaoB,MAAM,CAACN,QAAD,CAAN,CAAiBO,OAAjB,CAAyB,CAAzB,CAAb;AACH,OAPK;;AAQNC,UAAI,EAAE;AARA;AADP;AA/BI,CAAf","names":["FormProduct","uuid","name","components","props","data","total","methods","addProduct","e","preventDefault","newProduct","entry_uuid","v4","sub_total","$emit","changedSubTotal","watch","products","handler","newTotal","reduce","partialSum","a","console","log","Number","toFixed","deep"],"sourceRoot":"","sources":["C:\\Users\\01mwk.DESKTOP-33PCD1S\\Documents\\GitHub\\prueba_tecnica_AFRG\\prolibu-client\\src\\components\\FormProducts.vue"],"sourcesContent":["<template>\r\n    <h2>Products</h2>\r\n    <div id=\"container\">\r\n        <div id=\"product-container\">\r\n            <table >\r\n                <col style=\"width: 5%\">\r\n                <col style=\"width: 25%\">\r\n                <col style=\"width: 10%\">\r\n                <col style=\"width: 10%\">\r\n                <col style=\"width: 10%\">\r\n                <col style=\"width: 10%\">\r\n                <col style=\"width: 10%\">\r\n                <col style=\"width: 10%\">\r\n                <col style=\"width: 10%\">\r\n                <thead>\r\n                    <tr>\r\n                        <td colspan=\"9\" style=\"text-align: center; cursor: pointer; background: #136dff; color: white;\" @click=\"addProduct\"><b>+</b></td>\r\n                    </tr>\r\n                    <tr id=\"header\">\r\n                        <th>SKU</th>\r\n                        <th>Product</th>\r\n                        <th>Units</th>\r\n                        <th>Unit / Price</th>\r\n                        <th>Unit Conversion</th>\r\n                        <th>Cuantity Price</th>\r\n                        <th>%Discount</th>\r\n                        <th>%Tax</th>\r\n                        <th>%SubTotal</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody v-for=\"product in products\" :key=\"product.entry_uuid\">\r\n                    <FormProduct v-bind:products_fetched=\"products_fetched\" v-bind:product_prop=\"product\" v-on:removeProduct=\"$emit('removeProduct', product.entry_uuid)\" v-bind:selected_currency_info=\"selected_currency_info\" v-bind:currency_fetched=\"currency_fetched\" v-on:changedSubTotal=\"changedSubTotal\"/>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n        <div id=\"total-viewer\">\r\n            <div class=\"highlighted\">\r\n                Total =\r\n            </div>\r\n            <div class=\"highlighted\">\r\n                {{this.total}}\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport FormProduct from './FormProduct.vue'\r\nimport {uuid} from 'vue-uuid'\r\n\r\nexport default {\r\n    name:'FormProducts',\r\n    components: {\r\n        FormProduct\r\n    },\r\n    props: [\r\n        'products',\r\n        'products_fetched',\r\n        'selected_currency_info',\r\n        'currency_fetched',\r\n    ],\r\n    data () {\r\n        return {\r\n            total: 0,\r\n        }\r\n    },\r\n    methods: {\r\n        addProduct(e) {\r\n            e.preventDefault()\r\n\r\n            const newProduct = {\r\n                entry_uuid: uuid.v4(),\r\n                sub_total: 0,\r\n            }\r\n\r\n            this.$emit('addProduct', newProduct)\r\n        },\r\n        changedSubTotal(e) {\r\n            this.$emit('changedSubTotal', e)\r\n        }\r\n    },\r\n    watch: {\r\n        products: {\r\n            handler () {\r\n                let newTotal = this.products.reduce((partialSum, a) => partialSum + a.sub_total, 0)\r\n                console.log(newTotal)\r\n                console.log(newTotal)\r\n                console.log(newTotal)\r\n                this.total = Number(newTotal).toFixed(2)\r\n            },\r\n            deep: true,\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n    ::-webkit-scrollbar {\r\n    width: 8px;\r\n    }\r\n\r\n    /* Track */\r\n    ::-webkit-scrollbar-track {\r\n    background: #f1f1f1;\r\n    border-radius: 10px;\r\n    }\r\n\r\n    /* Handle */\r\n    ::-webkit-scrollbar-thumb {\r\n        border-radius: 10px;\r\n    background: #888;\r\n    }\r\n\r\n    /* Handle on hover */\r\n    ::-webkit-scrollbar-thumb:hover {\r\n        border-radius: 10px;\r\n    background: #555;\r\n    }\r\n    #container {\r\n        display: flex;\r\n        flex-direction: column;\r\n        width: 100%;\r\n    }\r\n    #product-container {\r\n        display: flex;\r\n        flex-direction: column;\r\n        width: 100%;\r\n        border-radius: 10px;\r\n        background: rgb(240, 240, 240);\r\n        height: 300px;\r\n        overflow-x: scroll;\r\n        overflow-y: auto;\r\n        -layout: fixed;\r\n        padding: 5px;\r\n    }\r\n\r\n    #total-viewer {\r\n        display: flex;\r\n        flex-direction: row;\r\n        position: relative;\r\n        align-self: flex-end;\r\n        right: 0;\r\n        bottom: 0;\r\n        padding: 20px;\r\n        margin-top: 10px;\r\n        background: rgb(240, 240, 240);\r\n         border-radius: 10px;\r\n    }\r\n    thead {\r\n        text-align: left;\r\n        top: 0;\r\n        position: sticky;\r\n        background-color: white;\r\n    }\r\n\r\n    .highlighted {\r\n        text-align: left;\r\n        top: 0;\r\n        position: sticky;\r\n        background-color: white;\r\n    }\r\n\r\n    td, table, th {\r\n        border-radius: 10px;\r\n        padding: 5px;\r\n    }\r\n\r\n    button {\r\n        width: 100%;\r\n        border: 0px;\r\n        padding: 10px;\r\n        cursor: pointer;\r\n        position: -webkit-sticky;\r\n        position:sticky;\r\n        top: -1;\r\n    }\r\n\r\n    h2 {\r\n        text-align: left;\r\n    }\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}